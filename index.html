<!DOCTYPE html>
<meta charset="utf-8">
<!-- https://www.d3-graph-gallery.com/graph/backgroundmap_leaflet_buttonLayer.html -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>


<div id="mapid"></div>

<style>
#mapid { height: 466px; width: 333px; }
</style>



<script>

var map = L
      .map('mapid')
      .setView([18.9860, 72.8411], 12);
    
    // Tile type: openstreetmap normal
var openstreetmap = L.tileLayer(
      'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map: &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a>',
      minZoom: 12,
      maxZoom: 14
    })

    const radius = 1933;
    const tti = 2.2;

    //https://leafletjs.com/examples/quick-start/
var circle = L.circle([19.0103, 72.8353], {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.3,
    radius: radius
}).addTo(map);

var circle1 = L.circle([19.0103, 72.8353], {
    color: 'blue',
    fillColor: 'blue',
    fillOpacity: 0.3,
    radius: radius*tti
}).addTo(map);

var circle2 = L.circle([19.0103, 72.8353], {
    color: 'black',
    fillColor: 'black',
    fillOpacity: 1,
    radius: 100
}).addTo(map);

var circle3 = L.circle([19.0103, 72.8353], {
    color: 'black',
    fillColor: 'black',
    fillOpacity: 0,
    radius: 130
}).addTo(map);

// https://codepen.io/kad3nce/pen/bEdwOE
circle1.on('mousedown', function (event) {
  //L.DomEvent.stop(event);
  map.dragging.disable();
  let {lat: circleStartingLat, lng: circleStartingLng} = circle1._latlng;
  let {lat: mouseStartingLat, lng: mouseStartingLng} = event.latlng;

  map.on('mousemove', event => {
    let {lat: mouseNewLat, lng: mouseNewLng} = event.latlng;
    let latDifference = mouseStartingLat - mouseNewLat;
    let lngDifference = mouseStartingLng - mouseNewLng;

    let center = [circleStartingLat-latDifference, circleStartingLng-lngDifference];
    circle1.setLatLng(center);
    circle.setLatLng(center);
    circle2.setLatLng(center);
    circle3.setLatLng(center);
  });
});

map.on('mouseup', () => { 
  map.dragging.enable();
  map.removeEventListener('mousemove');
});
    
    // Initialize with openstreetmap
    openstreetmap.addTo(map);



    // map.selectAll("circle")
    //             .data(values[1])
    //             .enter()
    //             .append("circle")
    //             .attr("cx", function(d) { return projection([d.Longitude, d.Latitude])[0];} )
    //             .attr("cy", function(d) { return projection([d.Longitude, d.Latitude])[1];} )
    //             .attr("r", "15px")
    //             .style("fill", "red")
    //             .attr("id", function(d, i){ return "circle" + i; })
    //             .on("mouseover", function (d, i){ d3.select("#circle" + i).attr("r", "20px"); d3.select("#text" + i).attr("fill", "blue");})
    //             .on("mouseout", function (d, i){ d3.select("#circle" + i).attr("r", "10px"); d3.select("#text" + i).attr("fill", "red");}),

    
    </script>